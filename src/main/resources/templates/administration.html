<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Страница администратора</title>
    <link rel="stylesheet" href="../static/styles.css">
    <style>
        .image-container {
            border: 1px solid #ccc;
            width: 300px;
            height: 200px;
            background-size: cover;
            background-position: center;
        }
        .select-image-btn{
            display: none;
        }
    </style>
</head>

<body>
<div class="back-black">
    <div th:replace="navbar.html :: navbar"></div>

    <form action="/uploadimage" method="post" enctype="multipart/form-data">

        <input type="file" id="image-input" name="file">
        <button id="select-image-btn" class="select-image-btn">Выбрать изображение</button>
        <div class="image-container" id="image-output"></div>

        <label>Название</label>
        <input type="text" name="name"/>

        <label>Цена</label>
        <input type="number" name="price"/>

        <button type="submit">Сохранить и добавить</button>

    </form>

    <script>
        const imageInput = document.getElementById('image-input');
        const selectImageBtn = document.getElementById('select-image-btn');
        const imageOutput = document.getElementById('image-output');

        selectImageBtn.addEventListener('click', () => {
            imageInput.click();
        });

        imageInput.addEventListener('change', (e) => {
            if (e.target.files && e.target.files[0]) {
                const file = e.target.files[0];
                const reader = new FileReader();

                reader.onload = (event) => {
                    imageOutput.style.backgroundImage = `url(${event.target.result})`;
                };

                reader.readAsDataURL(file);
            }
        });
    </script>

    <div class="holder"></div>

    <div th:replace="footer.html :: footer"></div>

    <script src="../static/script.js"></script>
</div>
</body>
</html>
